# 4 栈与队列

## 4.1 开场白

## 4.2 栈的定义
* **栈**是限定**仅在表尾进行插入和删除操作**的线性表（**先进后出，后进先出**）。
* 我们把**允许插入和删除**的一端称为**栈顶**，**另一端称为栈底**，不含任何数据元素的栈称为空栈。
* **栈的插入（push）**操作叫做**进栈**，也称压栈、入栈。
* **栈的删除（pop）**操作叫做**出栈**，也称弹栈。

进栈和出栈：

![进栈和出栈](image/4.2%E8%BF%9B%E6%A0%88%E5%92%8C%E5%87%BA%E6%A0%88.png)

## 4.3 栈的抽象数据类型

## 4.4 栈的顺序存储结构及实现

## 4.5 两栈共享空间
* 两个栈一个在数组下标为0处，一个在数组下标为n-1处，这样两个栈如果增加元素，就是两个端点向中间延申。

![两栈共享空间](image/4.5%E4%B8%A4%E6%A0%88%E5%85%B1%E4%BA%AB%E7%A9%BA%E9%97%B4.png)

## 4.6 栈的链式存储结构及实现

## 4.7 栈的作用

## 4.8 栈的应用————递归
* **斐波那契数列**
![斐波那契数列](image/4.8%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97.png)

## 4.9 栈的应用————四则运算表达式求值
* 前缀表达式：没有括号，运算符写在前面，操作数写在后面的表达式，为了纪念波兰数学家的贡献，也被称为“波兰式”。
* **中缀表达式**：通用的算数公式表示方法，操作符以中缀形式处于操作数的中间，可以有括号。
* **后缀表达式**：没有括号，运算符卸载后面，操作数写在前面的表达式，为了纪念波兰数学家的贡献，也被称为“**逆波兰式**”。
**中缀表达式转后缀表达式**（方便计算机进行运算）：
1. 从左到右遍历中缀表达式的每一个数字和符号，若是**数字就直接输出**，**符号就要放入栈中**。
2. 符号进栈要判断其与栈顶符号的优先级。
3. 如果**栈顶符号不小于入栈符号**，则**栈顶符号出栈**，**当前符号进栈**。
4. 如果是**右括号入栈**，则要**匹配左括号**，之后**栈顶符号依次出栈**。
5. 等所有**数字输出完毕**后，将**栈中的符号依次出栈**。

**后缀表达式的计算**（计算机内存大多为栈结构，所以采用后缀表达式计算）：
1. 从左到右遍历后缀表达式的每一个数字和符号，遇到**数字就直接进栈**。
2. 遇到**符号就要将处于栈顶的两个数字出栈**，**进行运算**，并**将运算结果进栈**。
3. 一直重复上述步骤，直至获得最终的结果。

## 4.10 队列的定义
* **队列**是只允许一端进行插入操作，而在另一端进行删除操作的线性表（**先进先出**）。

## 4.11 队列的抽象数据类型

## 4.12 循环队列
* 循环队列中有两个指针，front与rear指针，**front指针**指向**队头元素**，**rear指针**指向**队尾元素的下一个位置**，当**front等于rear**时，此队列是个**空队列**或者**满队列**。
* **队列满的条件**是：**(rear + 1) % QueueSize == front**
* **队列长度的计算**公式：**(rear - front + QueueSize) % QueueSize**

## 4.13 队列的链式存储结构及实现
P143